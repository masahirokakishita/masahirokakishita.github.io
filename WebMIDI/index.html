<!DOCTYPE html>
<HTML>
<HEAD>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta http-equiv="Cache-Control" content="no-cache">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Content-Script-Type" content="text/javascript">
	<title>Web MIDI Extension</title>

  <style type="text/css">
    <!--
    #sans10 { color: black; font-family:sans-serif ;  font-size: 10pt; line-height : 1.5em}
    #sans12 { color: black; font-family:sans-serif ;  font-size: 12pt; line-height : 1.5em}
    #sans14 { color: black; font-family:sans-serif ;  font-size: 14pt; line-height : 1.5em}
    #mono10 { color: black; font-family:monospace  ;  font-size: 10pt; line-height : 1.5em}
    -->
    </style>
</HEAD>

<body bgcolor="#defeef" text="#000000" link="#0000ff" vlink="#ff00ff" 
alink="#ff0000" style="margin-right:30px;margin-left:30px;margin-top:20px;">
<br>
<!--	-------------------------------------------------------------------- -->
<center><h2>Web MIDI API Extension for ScratchX</h2></center>
<!--	-------------------------------------------------------------------- -->
<div id="sans14">
This extension is for using a MIDI device like a MIDI Controller at ScratchX.
It's made by Web MIDI API.
This API is one of the HTML5 functions defined by W3C.

<ul>
	<li>Web MIDI API Working Draft <a href="http://www.w3.org/TR/webmidi/" TARGET="_blank">http://webaudio.github.io/web-midi-api/</a>
	<li>W3C <a href="http://www.w3.org/" TARGET="_blank">http://www.w3.org/</a>
</ul>

So this extension is able to use only on Chrome.
The other browsers are not supporting Web MIDI API now, April 2016.
<br>
Do you know MIDI? MIDI is a protocol for connecting between MIDI Devices or a MIDI device to the PC. 
If you don't know, please see like a following page.

<ul>
	<li>MIDI wiki <a href="https://en.wikipedia.org/wiki/MIDI" TARGET="_blank">https://en.wikipedia.org/wiki/MIDI</a>
	<li>SUMMARY OF MIDI MESSAGES <a href="https://www.midi.org/specifications/" TARGET="_blank">https://www.midi.org/specifications</a>
</ul>

Before you try to use these extensions, you should connect a MIDI device to your PC via USB. 
After you connect a MIDI device, you launch Chrome browser. 
Because Chrome browser finds the MIDI device when it launches.
<br><br>
There are three blocks in this extension - a "GET CC", "GET NOTE ON" and a "PUT MIDI" block. 
<br>
<ul>
<li>GET CC
<li>GET NOTE ON
<li>PUT MIDI
</ul>

<hr width="50%" align="left"><br>
The extension is here.<br>

http%3A%2F%2Fmasahirokakishita.github.io%2FWebMIDI%2Fwebmidiext.js
<br><br>

<hr width="50%" align="left">
<br>
<b>GET CC</b></br>

"GET CC" is consisted of a hat block  and a synchronous reporter.  The hat block <img src="JPEG/pcchat.jpg"> informs a MIDI CC data comes. And the synchronous reporter <img src="JPEG/pccparam.jpg"> has one parameter. It's a MIDI control change number. The reporter gets the CC value of the CC number defined by the parameter. <br>
<br>

<b>GET NOTE ON</b></br>
"GET NOTE ON" is consisted of a hat block and two synchronous reporters. The hat block informs a MIDI NOTE ON message. NOTE ON message is included two statuses, 0x80 and 0x90. One synchronous reporter indicates the note number and the other indicates the velocity. The case of status 0x80, the velocity is set to zero.
<br><br>

<b>PUT MIDI</b></br>
"PUT MIDI" <img src="JPEG/pcmidiout.jpg"> genarates a MIDI NOTE ON message. The first parameter is a channel number, the second one is a note number and last one is a velocity. Normary the velocity is zero means note off.
<br><br>

<hr width="50%" align="left">
<br>
<a href="http://scratchx.org/?url=http%3A%2F%2Fmasahirokakishita.github.io%2FWebMIDI%2Fproject.sbx" TARGET="_blank">This is an example using this extension.</a>
<br><br>
<iframe width="420" height="315" src="https://www.youtube.com/embed/iWIwDGgzD1Y" frameborder="0" allowfullscreen></iframe>
<br><br>
In this movie's case, when a key on the keyboard is hit a small rocket moves to a position defined by key number and velocity.
<br><br>
<hr width="50%" align="left">
<br>
<b>Example 1</b></br>
This example is for separationg Note Off from Note On. Note Off can be found by the velocity is zero.<br>
<img src="JPEG/example1.jpg"><br>
<a href="http://scratchx.org/?url=http%3A%2F%2Fmasahirokakishita.github.io%2FWebMIDI%2Fnodeonoff.sbx" TARGET="_blank">The Example is here.</a><br>
<br><br>
</body>
</html>
